<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5770953-9', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J3K00HKL9D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-J3K00HKL9D');
</script>
    

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <title>Frequently Asked Questions Â· JobRunr</title>

    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="description" content="Find out all about the architecture and terminology behind JobRunr">
    
    
    
    <meta name="author" content="Ronald Dehuysser, ronald@dehuysser.be">

    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:image" content="https://www.jobrunr.io/blog/2020-04-23-jobrunr-gets-jobs-done.webp" />
    <meta name="twitter:image:alt" content="JobRunr - get jobs done" />
    <meta name="twitter:title" content="Frequently Asked Questions" />
    <meta name="twitter:description" content="Find out all about the architecture and terminology behind JobRunr" />
    <meta name="twitter:creator" content="@rdehuyss" />
    <meta name="twitter:site" content="@jobrunr" />

    <meta property="og:title" content="Frequently Asked Questions" />
<meta property="og:description" content="Find out all about the architecture and terminology behind JobRunr" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.jobrunr.io/en/documentation/faq/" /><meta property="og:image" content="https://www.jobrunr.io/blog/2020-04-23-jobrunr-gets-jobs-done.webp"/><meta property="article:section" content="documentation" />
<meta property="article:published_time" content="2020-09-16T11:12:23+02:00" />
<meta property="article:modified_time" content="2020-09-16T11:12:23+02:00" />



    
    
    
    <link rel="stylesheet" href="https://www.jobrunr.io/scss/custom.min.f2e3062342f774093a964dc0a63b159acd177baae8ba3c900288039bcc3cf9ac.css" integrity="sha256-8uMGI0L3dAk6lk3ApjsVms0Xe6roujyQAogDm8w8&#43;aw=" media="screen">
    <link rel="stylesheet" href="https://www.jobrunr.io/scss/screen.min.c9d1df86a3d364c1052d5e74cb11a6446609f4e81de21e66de46421d26c53826.css" integrity="sha256-ydHfhqPTZMEFLV50yxGmRGYJ9Ogd4h5m3kZCHSbFOCY=" media="screen">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism-coy.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
</head>
<body class=" tag-template  ">

    <div class="site-wrapper">

<header class="site-header leftnav" style="height: 64px;"><div class="outer site-nav-main">
    <div class="inner"><nav id="site-nav" class="site-nav">
    <div class="site-nav-left">
        
        <a class="site-nav-logo" href="https://www.jobrunr.io/en/"><img src="https://www.jobrunr.io/images/jobrunr-logo-white.webp" alt="JobRunr" height="21px" width="91px"/></a>
        
        <div class="site-nav-content">
            <ul class="nav" role="menu">
                
                <li class="nav-home" role="menuitem"><a href="/en/">Home</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/en/documentation/">Documentation</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/en/pricing/">JobRunr Pro</a></li>
                
                <li class="nav-home" role="menuitem"><a href="/en/blog/">Blog</a></li>
                
            </ul>
        </div>
    </div>
    <div class="site-nav-right">
        <div id="social-links" class="social-links">
            <style>
                div.social-links {
                    position: relative;
                }
                #lang-selector {
                    display: none;
                    background-color: rgb(144, 162, 170);
                    position: absolute;
                    left: 10px;
                    top: 56px;
                    z-index: 50;
                }
                #lang-selector li {
                    list-style-type: none;
                }
                #lang-selector li a {
                    color: #fff;
                    text-transform: uppercase;
                }
            </style>

            
            <a class="social-link social-link-tw" href="https://github.com/jobrunr/website/tree/master/content/en/documentation/faq.md" title="Edit this page on GitHub" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="-3 -3 32 32"><path d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"/></svg></a>
            <a class="social-link social-link-tw" href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjobrunr.io&amp;screen_name=jobrunr&amp;tw_p=followbutton" title="Follow us on Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg></a>
            <a class="social-link social-link-gh" style="color: #fff" href="https://github.com/jobrunr/jobrunr" title="View code on Github" target="_blank" rel="noopener"><svg viewBox="-3 -3 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> Source Code</a>
            <script>
                const langLink = document.getElementById("lang-link");
                const langSelector = document.getElementById("lang-selector");

                const hideLangSelector = () => {
                    langSelector.style.display = 'none';
                };
                
                const showLangSelector = () => {
                    langSelector.style.display = 'block';
                    setTimeout(hideLangSelector, 3000);
                };

                langLink.addEventListener("mouseover", showLangSelector);
            </script>
        </div>
    </div>
</nav>

</div>
</div></header>

<main id="site-main" class="site-main documentation outer">
    <div class="inner">
<aside>
    <ul>
        
        
            
        
            
                
                    <li class="">
                        <a href="/en/documentation/5-minute-intro/">
                            
                            5 minute intro
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/installation/">
                            
                            Installation
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                            <li class="">
                                <a href="/en/documentation/installation/storage/">Storage</a>
                            </li>
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/configuration/">
                            
                            Configuration
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                            <li class="">
                                <a href="/en/documentation/configuration/fluent/">Fluent API</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/configuration/spring/">Spring Boot Starter</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/configuration/micronaut/">Micronaut Integration</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/configuration/quarkus/">Quarkus Extension</a>
                            </li>
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/background-methods/">
                            
                            Background methods
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/dashboard/">Dashboard</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/enqueueing-jobs/">Enqueueing jobs</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/scheduling-jobs/">Scheduling jobs</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/recurring-jobs/">Recurring jobs</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/deleting-jobs/">Deleting jobs</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/passing-arguments/">Passing arguments</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/background-jobs-dependencies/">Background job dependencies</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/dealing-with-exceptions/">Dealing with exceptions</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/logging-progress/">Logging &amp; job progress</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/background-methods/best-practices/">Best practices</a>
                            </li>
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/pro/">
                            
                            JobRunr Pro
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                            <li class="">
                                <a href="/en/documentation/pro/jobrunr-pro-dashboard/">JobRunr Pro Dashboard</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/transactions/">Transaction plugin</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/queues/">Queues</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/job-chaining/">Job Chaining</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/batches/">Batches</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/server-tags/">Server Tags</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/mutexes/">Mutexes</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/job-filters/">Job Filters</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/results/">Job Result</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/replace-jobs/">Replacing jobs</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/migrations/">CI / CD &amp; Job Migrations</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/database-fault-tolerance/">Database Fault Tolerance</a>
                            </li>
                        
                            <li class="">
                                <a href="/en/documentation/pro/custom-delete-policy/">Custom delete policy</a>
                            </li>
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/faq/">
                            
                            FAQ
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                    </ul>
                
                    <li class="">
                        <a href="/en/documentation/alternatives/">
                            
                            JobRunr compared
                        </a>
                    </li>
                    <ul class="sub-menu">
                        
                    </ul>
                
            
        
            
        
            
        
    </ul>
</aside><article class="post-full post no-image no-image">
            <header class="post-full-header">
                <h1 class="post-full-title">Frequently Asked Questions</h1>
                
                    <p class="post-full-custom-excerpt"> Some frequently asked questions about JobRunr...</p>
                
            </header>
            <section class="post-full-content">
                <h2 id="backgroundjobserver-faq">BackgroundJobServer FAQ</h2>
<h3 id="does-jobrunr-need-open-ports-for-distributing-jobs">Does JobRunr need open ports for distributing jobs?</h3>
<p>No, JobRunr does not require an open port for distributing the workload - this is orchestrated via the <code>StorageProvider</code>.</p>
<h3 id="how-is-the-coordination-between-different-nodes-done">How is the coordination between different nodes done?</h3>
<p>Each <a href="https://www.jobrunr.io/en/documentation/#backgroundjobserver"><code>BackgroundJobServer</code></a> registers itself on startup in the <code>StorageProvider</code>. For an RDBMS, this is a plain old table called <code>jobrunr_backgroundjobservers</code>. The master is the server which is the longest running (so, the one that was registered as first node).<br>
Then, every 15 seconds, each <code>BackgroundJobServer</code> updates a lastHeartBeat timestamp. If a node crashes for some reason (this can also be the master node), the lastHeartBeat timestamp is not updated anymore. All other server participating in processing jobs see that the master node is not active anymore and it is removed from the <code>StorageProvider</code>.<br>
Next, the master reelection process starts which is again nothing more than the longest running <code>BackgroundJobServer</code>.</p>
<blockquote>
<p>Pro tip: if you are running in a Kubernetes environment, it is best to always keep your first <code>BackgroundJobServer</code> running and scale other pods up and down. This will result in less Master reelection processes and thus less database queries.</p>
</blockquote>
<h3 id="what-is-the-role-of-the-master">What is the role of the master?</h3>
<p>The master is a <code>BackgroundJobServer</code> like all other nodes processing but it does some extra tasks:</p>
<ul>
<li>it checks for recurring jobs and schedules them when they are about to run</li>
<li>it checks for scheduled jobs and enqueues them when they need to run</li>
<li>it checks for orphaned jobs and reschedules them</li>
<li>it does some zookeeping like deleting all the succeeded jobs</li>
</ul>
<h3 id="my-recurring-jobs-are-not-running-nor-available-in-the-dashboard">My recurring jobs are not running nor available in the dashboard?</h3>
<p>To schedule your recurring jobs, you must make sure that the code scheduling these jobs is executed on startup of your application. See the examples in <a href="https://www.jobrunr.io/en/documentation/background-methods/recurring-jobs/#registering-your-recurring-jobs">Recurring jobs</a></p>
<h3 id="jobrunr-stops-completely-if-my-sql--nosql-database-goes-down">JobRunr stops completely if my SQL / NoSQL database goes down</h3>
<p>JobRunr uses your database for a lot of things:</p>
<ul>
<li>Master node election for the <code>BackgroundJobServer</code></li>
<li>Monitoring whether there are no zombie jobs (jobs that were being processed on a <code>BackgroundJobServer</code> node that crashed)</li>
<li>Optimistic locking so that a job will be only executed once</li>
<li>&hellip;</li>
</ul>
<p>The moment JobRunr loses it&rsquo;s connection to the database (or the database goes down), there will be a lot of threads that will try to write updates to the database but all of these writes will off-course fail. This will result in <strong>a huge amount of logging</strong> and if JobRunr would try to continue job processing, it would flood the disks fast because of each attempt to process a job fails. That&rsquo;s why I decided that if there are too many exceptions because of the <code>StorageProvider</code>, JobRunr stops all background job processing. This can off-course be monitored via the dashboard and health endpoints.</p>
<blockquote>
<p>JobRunr Pro improves this by monitoring if the <code>StorageProvider</code> comes up again and if so, automatically restarts processing on all the different <code>BackgroundJobServer</code>s.</p>
</blockquote>
<!-- ### How can I control the amount of workers per BackgroundJobServer? -->
<h2 id="job-faq">Job FAQ</h2>
<h3 id="how-does-jobrunr-make-sure-to-only-process-a-job-once">How does JobRunr make sure to only process a job once?</h3>
<p>JobRunr uses <a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control">optimistic locking</a> to make sure that a job is only processed once.
Concretely, this means that when a <code>BackgroundJob</code> server starts processing a job, it first changes the state to <code>PROCESSING</code> and tries to save that to the <code>StorageProvider</code>. If that fails, it means that the job is already processing by another <code>BackgroundJob</code> server and the current <code>BackgroundJob</code> server will not process it again.
If it succeeds, it means that the job is not being processed by another <code>BackgroundJob</code> server and the current <code>BackgroundJob</code> server can process it.</p>
<h3 id="what-if-i-dont-want-to-have-10-retries-when-a-job-fails">What if I don&rsquo;t want to have 10 retries when a job fails?</h3>
<p>You can configure the amount of retries for all your jobs or per job.</p>
<ul>
<li>To change the default for all jobs, just register a <a href="https://www.jobrunr.io/en/documentation/#retryfilter"><code>RetryFilter</code></a> with the amount of retries you want using the <code>withJobFilter</code> method in the <a href="https://www.jobrunr.io/en/documentation/configuration/fluent/">Fluent API</a> or in case of the <a href="https://www.jobrunr.io/en/documentation/configuration/spring/">Spring configuration</a>, just change the <code>org.jobrunr.jobs.default-number-of-retries</code> property.</li>
<li>To change the amount of retries on a single Job, just use the <code>@Job</code> annotation:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Job</span><span style="color:#f92672">(</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Doing some work&#34;</span><span style="color:#f92672">,</span> retries <span style="color:#f92672">=</span> 2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doWork</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="im-encountering-a-javalangillegalthreadstateexception">I&rsquo;m encountering a <code>java.lang.IllegalThreadStateException</code></h3>
<p>While developing, you may encounter the following error:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">IllegalThreadStateException</span><span style="color:#f92672">:</span> Job was too <span style="color:#66d9ef">long</span> in PROCESSING state without being updated<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>at org<span style="color:#f92672">.</span><span style="color:#a6e22e">jobrunr</span><span style="color:#f92672">.</span><span style="color:#a6e22e">server</span><span style="color:#f92672">.</span><span style="color:#a6e22e">JobZooKeeper</span><span style="color:#f92672">.</span><span style="color:#a6e22e">lambda$checkForOrphanedJobs$2</span><span style="color:#f92672">(</span>JobZooKeeper<span style="color:#f92672">.</span><span style="color:#a6e22e">java</span><span style="color:#f92672">:</span>134<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>This is because you stopped a running JVM instance where a <code>BackgroundJobServer</code> was processing a job. When a job is being processed, it is regularly updated with a timestamp so that in case of a node failure, the job can be retried automatically on a different server. The error message you see here, is an example of such a case.</p>
<h3 id="im-listening-for-jobs-using-service-bus-messages-in-a-load-balanced-environment-and-i-want-to-schedule-jobs-only-once">I&rsquo;m listening for jobs using Service Bus messages in a load-balanced environment and I want to schedule jobs only once.</h3>
<p>If you are in an environment using JMS or any other Service Bus Message and you are listening on multiple nodes for these messages to create jobs, you will probably enqueue the same job on each node. This is because each node that is listening, receive the JMS message and enqueue the same job.</p>
<p>This can easily be solved using the following technique:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">JobMessageListener</span> <span style="color:#66d9ef">implements</span> MessageListener <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> JobScheduled jobScheduler<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> MessageHandler messageHandler<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ConsumerMessageListener</span><span style="color:#f92672">(</span>JobScheduled jobScheduler<span style="color:#f92672">,</span> MessageHandler messageHandler<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">jobScheduler</span> <span style="color:#f92672">=</span> jobScheduler<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">messageHandler</span> <span style="color:#f92672">=</span> messageHandler<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onMessage</span><span style="color:#f92672">(</span>Message message<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        TextMessage textMessage <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>TextMessage<span style="color:#f92672">)</span> message<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        jobScheduler<span style="color:#f92672">.</span><span style="color:#a6e22e">enqueue</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>          message<span style="color:#f92672">.</span><span style="color:#a6e22e">getJMSCorrelationID</span><span style="color:#f92672">(),</span> <span style="color:#75715e">// by passing the JMS correlation id, this will be the id of the job and thus unique.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          <span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> messageHandler<span style="color:#f92672">.</span><span style="color:#a6e22e">handleServiceBusMessage</span><span style="color:#f92672">(</span>textMessage<span style="color:#f92672">.</span><span style="color:#a6e22e">getText</span><span style="color:#f92672">())</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>
            </section>
        </article>
        
    </div>
</main>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright">
                  &copy; <a href="https://www.jobrunr.io">JobRunr</a>
                </section>
                <section class="love" style="opacity: 0.7;">
                  Made with <strong style="color: red; font-size: large;">&hearts;</strong> in Belgium
                </section>
                <nav class="site-footer-nav">
                    <div><a href="/en/about/" rel="noopener" style="opacity: 0.5;">JobRunr by Ronald Dehuysser</a></div>
                    <a href="https://jonathanjanssens.com" target="_blank" rel="noopener" style="opacity: 0.5;">Hugo Casper3 by Jonathan Janssens</a>
                </nav>
            </div>
        </footer>
    </div>

    
    <script src="https://www.jobrunr.io/js/jobrunr-version.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-java.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script>
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "transparent",
      "border": "#fff",
      "text": "#fff"
    }
  },
  "content": {
    "link": "Learn more about cookies"
  }
});

var links = document.querySelectorAll('a');
for (var i = 0; i < links.length; i++) {
  if (links[i].hostname != window.location.hostname) {
    links[i].target = '_blank';
    links[i].rel = 'noopener';
  }
}
</script>
</body>
</html>